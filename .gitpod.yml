image:
  file: .gitpod.Dockerfile

tasks:
  - init: >
      echo 'export PATH=~/.local/bin:"$PATH"' >> ~/.bashrc &&
      source ~/.bashrc &&
      cd /workspace &&
      pip3 install -U west &&
      west init -l nrf52840-m2-devkit &&
      west update &&
      pip3 install -r /workspace/zephyr/scripts/requirements.txt
    command: >
      export ZEPHYR_TOOLCHAIN_VARIANT=gnuarmemb &&
      export GNUARMEMB_TOOLCHAIN_PATH="/usr" &&
      source /workspace/zephyr/zephyr-env.sh
